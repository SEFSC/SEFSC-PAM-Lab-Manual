<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analysis Methods – NOAA quarto simple</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../content/Reporting.html" rel="next">
<link href="../content/Software.html" rel="prev">
<link href="../images/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-2b3e328b71be8d25427581baeb23079b.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-f4bbd00bc521a1430264096eb1751a15.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-c4519e516c76af1bb22a3985aa1b521c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-f4bbd00bc521a1430264096eb1751a15.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/SoftwareAnalysis.html">Software &amp; Analysis Methods</a></li><li class="breadcrumb-item"><a href="../content/AnalysisMethods.html">Analysis Methods</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/79/NOAA_logo.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://www.fisheries.noaa.gov/science-data/passive-acoustic-research-southeast-fisheries-science-center" title="Passive Acoustic Research at the Southeast Fisheries Science Center" class="quarto-navigation-tool px-1" aria-label="Passive Acoustic Research at the Southeast Fisheries Science Center"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual" title="SEFSC Passive Acoustics Ecology Program Github" class="quarto-navigation-tool px-1" aria-label="SEFSC Passive Acoustics Ecology Program Github"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/LabManagement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab Management</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Safety.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Safety</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Inventory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inventory</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/FieldMethods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Field Methods</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/DataManagement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Management</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Hardware.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hardware</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/SoftwareAnalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software &amp; Analysis Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/AnalysisMethods.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Analysis Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/PublicationsPresentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publications and Presentations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/Onboarding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Onboarding Material</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/TrainingMaterial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Training Material</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">NMFS Open Science Directions</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NOAA quarto simple with R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/add-content.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Customize</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/customizing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Customization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/rendering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rendering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rendering with Code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/NMFS_OpenSciDirections/acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgments</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#raw-acoustic-data" id="toc-raw-acoustic-data" class="nav-link active" data-scroll-target="#raw-acoustic-data">Raw Acoustic Data</a></li>
  <li><a href="#marine-mammal-acoustics" id="toc-marine-mammal-acoustics" class="nav-link" data-scroll-target="#marine-mammal-acoustics">Marine Mammal Acoustics</a>
  <ul class="collapse">
  <li><a href="#odontocete-analyses" id="toc-odontocete-analyses" class="nav-link" data-scroll-target="#odontocete-analyses">Odontocete Analyses</a></li>
  <li><a href="#mysticete-whale-analyses" id="toc-mysticete-whale-analyses" class="nav-link" data-scroll-target="#mysticete-whale-analyses">Mysticete Whale Analyses</a></li>
  </ul></li>
  <li><a href="#ambient-and-anthropogenic-noise-analyses" id="toc-ambient-and-anthropogenic-noise-analyses" class="nav-link" data-scroll-target="#ambient-and-anthropogenic-noise-analyses">Ambient and Anthropogenic Noise Analyses</a>
  <ul class="collapse">
  <li><a href="#ambient-noise-levels" id="toc-ambient-noise-levels" class="nav-link" data-scroll-target="#ambient-noise-levels">Ambient Noise Levels</a></li>
  <li><a href="#broadband-ships" id="toc-broadband-ships" class="nav-link" data-scroll-target="#broadband-ships">Broadband Ships</a></li>
  <li><a href="#ship-radiated-noise-levels-and-monopole-source-levels" id="toc-ship-radiated-noise-levels-and-monopole-source-levels" class="nav-link" data-scroll-target="#ship-radiated-noise-levels-and-monopole-source-levels">Ship Radiated Noise Levels and Monopole Source Levels</a></li>
  <li><a href="#seismic-airguns" id="toc-seismic-airguns" class="nav-link" data-scroll-target="#seismic-airguns">Seismic Airguns</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual/tree/main/edit/main/content/AnalysisMethods.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual/tree/main/blob/main/content/AnalysisMethods.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual/tree/main/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/SoftwareAnalysis.html">Software &amp; Analysis Methods</a></li><li class="breadcrumb-item"><a href="../content/AnalysisMethods.html">Analysis Methods</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Analysis Methods</h1>
<p class="subtitle lead">SEFSC Passive Acoustic Ecology Program</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="raw-acoustic-data" class="level2">
<h2 class="anchored" data-anchor-id="raw-acoustic-data">Raw Acoustic Data</h2>
</section>
<section id="marine-mammal-acoustics" class="level2">
<h2 class="anchored" data-anchor-id="marine-mammal-acoustics">Marine Mammal Acoustics</h2>
<section id="odontocete-analyses" class="level3">
<h3 class="anchored" data-anchor-id="odontocete-analyses">Odontocete Analyses</h3>
<section id="click-classification" class="level4">
<h4 class="anchored" data-anchor-id="click-classification">Click Classification</h4>
</section>
<section id="density-estimation" class="level4">
<h4 class="anchored" data-anchor-id="density-estimation">Density Estimation</h4>
</section>
<section id="beaked-whale-tracking-for-denisty-estimation-parameterization" class="level4">
<h4 class="anchored" data-anchor-id="beaked-whale-tracking-for-denisty-estimation-parameterization">Beaked Whale Tracking for Denisty Estimation Parameterization</h4>
</section>
</section>
<section id="mysticete-whale-analyses" class="level3">
<h3 class="anchored" data-anchor-id="mysticete-whale-analyses">Mysticete Whale Analyses</h3>
<!-- Analyses focused on calls of the Rice’s whale, the only resident baleen whale found in the GOM, required only the low-frequency data for these analyses. The HARP recordings were decimated by factors of 100 and 10 for 200 kHz and 20 kHz data, respectively, to yield 2000 Hz data with an effective bandwidth of 10 to 1000 Hz. While low-frequency call detection effort was focused on Rice’s whale calls, rare opportunistic detections of other baleen whale species were noted when they occurred, as were sounds of unknown origin that could potentially be produced by baleen whales. -->
<section id="rices-whale-automated-call-detectors" class="level4">
<h4 class="anchored" data-anchor-id="rices-whale-automated-call-detectors">Rice’s Whale Automated Call Detectors</h4>
<!-- Spectrogram cross-correlation detectors for Rice’s whale long-moan calls and downsweep pulse sequences were developed in Ishmael (Version 1.0; Mellinger and Clark 2000) using a two-day training dataset and a separate testing dataset to characterize miss rates and false detection rates (Soldevilla et al. 2022b). For all analyses, spectrograms were calculated using an FFT frame size of 512 samples, no zero-padding, 50% overlap, and spectrogram equalization with 3 s spectral averaging. -->
</section>
<section id="long-moan-detector-settings" class="level4">
<h4 class="anchored" data-anchor-id="long-moan-detector-settings">Long-Moan Detector Settings</h4>
<!-- Eastern long-moan call contours contain five sections which include the preliminary upsweep, the approximately 150 Hz tone, the first part of the downsweep (slope 1), the second part of the downsweep (slope 2), and the long nearly-constant-frequency tail (Figure 3). The crosscorrelation contour kernel for the long-moan call focused on the 150 Hz tone and slope 1, the most consistent parts of the frequency-modulated tonal call. The kernel contour is defined by a 1.1 s tone from 146 Hz to 145 Hz followed by a 3.7 s downsweep from 145 Hz to 112 Hz, each with a 14 Hz contour bandwidth. Detection function smoothing was enabled. The detection threshold was set to 4.5, and minimum and maximum detection durations were 0.5 s and 3.0 s, respectively. The minimum time allowed between subsequent detection events was 0.5 s. The threshold of 4.5, yielding a 6.4% missed call rate and a 26.4% false detection rate on a test dataset, was selected to minimize miss rates without excessive false detection rates. Missed detections were typically associated with calls with low signal to noise ratios. The majority of false alarms were associated with disk write noise from the recording instrument and tonal sounds from passing ships. While this detector was developed on eastern long-moan calls, it is also effective at detecting western long-moan variants since the 150 Hz tone component is consistent across all long-moan types. A subsequent manual review step further reduces the false detection rate (see Validation of Automated Call Detections). -->
</section>
<section id="downsweep-pulse-sequence-detector-settings" class="level4">
<h4 class="anchored" data-anchor-id="downsweep-pulse-sequence-detector-settings">Downsweep Pulse Sequence Detector Settings</h4>
<!-- The Ishmael downsweep pulse sequence detector used the regular sequence feature to detect sequences of individual downsweep pulses as a single call. The cross-correlation contour kernel was defined as a single 0.4 s downsweep from 120 Hz to 80 Hz, with a 20 Hz contour bandwidth. For regular sequences, the minimum and maximum repetition period between individual pulse detections were set to 0.9 s and 1.1 s, respectively, and an 11 s window with 75% overlap was used. The detection threshold was set to 11, and minimum and -->
<!-- maximum detection durations were set to 0.1 s and 40 s, respectively. The minimum time allowed between detection events was 0.4 s. The threshold of 11, yielding a 12.6% missed sequences rate and a 69.1% false detection rate on a test dataset, was selected to minimize miss rates without excessive false detection rates. Missed detections were typically associated with calls with low signal to noise ratios. The majority of false alarms were associated with long-moan calls with strongly pulsed tails and seismic survey airgun pulses with unusually short inter-pulse intervals or strong multipath effects. -->
</section>
<section id="validation-of-automated-call-detections" class="level4">
<h4 class="anchored" data-anchor-id="validation-of-automated-call-detections">Validation of Automated Call Detections</h4>
<!-- Given the critically endangered status of Rice’s whales, automated detector thresholds were intentionally set to minimize missed detections at the cost of increased false positive detections, rather than selecting a threshold with equal miss and false alarm rates. The threshold selections aimed to reduce missed detections as much as possible while balancing the need to keep false detections within a reasonable number. Therefore, these preliminary detections require a follow-up step to manually validate and remove all false detections for a final dataset. This semi-automated process is both more efficient and consistent than a complete -->
<!-- manual detection process and more accurate than a fully automated process. In the validation step, each automated detection is manually reviewed and scored as a true or false detection, and false positive rates are calculated as the percentage of false positives to total detections. -->
</section>
<section id="north-atlantic-right-whale-up-calls" class="level4">
<h4 class="anchored" data-anchor-id="north-atlantic-right-whale-up-calls">North Atlantic Right Whale Up-calls</h4>
</section>
</section>
</section>
<section id="ambient-and-anthropogenic-noise-analyses" class="level2">
<h2 class="anchored" data-anchor-id="ambient-and-anthropogenic-noise-analyses">Ambient and Anthropogenic Noise Analyses</h2>
<section id="ambient-noise-levels" class="level3">
<h3 class="anchored" data-anchor-id="ambient-noise-levels">Ambient Noise Levels</h3>
<!-- Long-term spectrograms and ambient noise curves were estimated from the following methods from Wiggins et al. 2016 at three different resolutions: -->
<!-- 1) Low frequency, factor of 100 decimated data, 10 Hz-1 kHz in 1 Hz bins. -->
<!-- 2) Mid frequency, factor of 20 decimated data, 10 Hz-5 kHz in 10 Hz bins. -->
<!-- 3) Full frequency, 10 Hz-100 kHz in 100 Hz bins. -->
<!-- In each case, consecutive, five-s waveforms were transformed into sequential sound pressure spectral density estimates with 1 Hz bin resolution using the Welch method (Welch 1967). During recording, HARPs write sequential 75 s acoustic records to standard laptop-style computer hard disk drives such that there were 15 five-s spectra for each 75 s acoustic record. However, system self-noise can be present when the HARP is writing to disk (12 s out of each 75 s record), so the first three five-s spectra were not used for the following soundscape analyses. Statistical distributions of the noise spectra were computed per hour and per day after discarding partial days and days with deployment/recovery ship sounds or with known instrument self-noise problems. These distributions were calculated with custom MATLAB-based software to provide hourly and daily average and percentile sound pressure spectrum levels for all sites over the deployment periods in addition to long-term spectrograms. For conciseness, this report focuses on the low frequency output, which is most indicative of anthropogenic noise sources. -->
</section>
<section id="broadband-ships" class="level3">
<h3 class="anchored" data-anchor-id="broadband-ships">Broadband Ships</h3>
<!-- To determine the contribution of shipping noise to the soundscape at the Gulf of Mexico HARP sites between 2020-2023, and to determine the ship types that transit near each recording location, a combination of (1) automated ship detections in the HARP acoustic recordings and (2) Automatic Identification System (AIS) data were used. The AIS data, obtained from Marine Cadastre, included ship information such as MMSI, vessel name, vessel type, vessel size, time and position at the time of each detection, and other vessel specifics. These data were used to examine ship types commonly found within 15 km of the deployed HARPs and the distances at which the ships passed each site (up to 15 km). -->
<!-- To analyze the HARP acoustic data for ship noise, a modified version of the custom ship detector in Matlab-based software Triton (github.com/MarineBioAcousticsRC/Triton/wiki /ShipDetector) was used. The detector identifies shipping events within LTSAs by examining power spectral density estimates in three user-defined frequency bands. Events meeting three conditions based on amplitude above a threshold and duration are logged as a ship passage. The original ship detector was designed to run on full bandwidth LTSAs to prevent misclassification of ship noise at sperm whale frequencies (1-10 kHz) as sperm whale clicks during odontocete detection and classification analyses. This detector was modified to meet the current objective of detecting all close approaches of ships (within 15 km) over the full bandwidth of shipping noise (30 Hz to 10 kHz). To meet these objectives, the original ship detector was modified to: 1) use the higher-resolution mid-frequency band LTSAs, 2) extend the three user-defined frequency bands to frequencies below 5 kHz, and 3) expand the 1-step detector to a 2-step detector to enhance detection of both ships with only low-frequency energy content and those with broader band energy. The frequencies for the three user-defined frequency bands were chosen to maximize the detection of shipping noise while minimizing the detection of airgun surveys. In general, for the first-step parameters, the low-frequency band ranged from 100-250 Hz or 300-850 Hz, the mid-frequency band from 250-500 Hz or 850-3000 Hz, and the high-frequency band from 500-1000 Hz or 3000-5000 Hz. For the secondstep parameters, the low-frequency band ranged from either 300-850 Hz (site DC only) or 100-500 Hz, the mid-frequency band from 850-3000 Hz (site DC only) or 500-1000 Hz, and the high-frequency band from 3000-5000 Hz. At each site, optimal settings were selected by comparing detector results with manual ship detections in a subset of data. -->
<!-- After running the ship detector with the optimal settings, the Evaluation Interface in the ship sound detector Triton Remora was used to review the detector output and correct false detections as needed. The detector’s performance was assessed by calculating precision and recall rates using the results of a manual review of 5% of each HARP dataset that was randomly selected. A quality score was given to the manual detections based on signal quality, with “1” representing a ship that would likely be detected (higher SNR), “2” a ship that possibly would be detected, and “3” a ship that would unlikely be detected (low SNR, representing -->
<!-- more distant ships). When calculating precision and recall rates, true positives were ships detected both automatically and manually, missed calls were ships detected manually (quality scores 1 and 2 only) but not automatically, and false positives were detections made automatically that were not ships. These precision and recall values were high across sites, indicating the ship detector performed well at most sites (Figure 29). -->
<!-- Broadband received levels (RLs), between 10-5000 Hz, were calculated for both ships detected automatically and those identified by AIS. To calculate broadband RL, data for the duration of each ship detection were divided into one-second bins and a Fast Fourier Transform (FFT) was applied to provide a frequency bin resolution of 1 Hz. Airgun pulses were removed from the data by using a 50% sliding window over 20 seconds of data at a time and removing mean noise levels (one second at a time) between 20-60 Hz that were above a specified threshold (presumed to be airgun pulses). Broadband RLs were then calculated using the remaining data for each one-minute time bin, as the summed band level over the 10-5000 Hz band. For ships detected automatically, the maximum broadband RL during the duration of the detection is reported as the RL at CPA. For ships identified by AIS, the broadband RL in the minute bin from 30 seconds before to 30 seconds after the CPA is reported. -->
<!-- To better understand received ship levels with respect to ship type, distance, speed, and other characteristics, and to understand the frequency of occurrence of shipping noise from vessels not equipped with AIS, automated ship detections were linked to associated ship tracks in the AIS data. Shipping data results are presented at each site as the number of acoustic detections of passing ships, the daily duration of vessel noise presence, the broadband RLs of the ships detected automatically as well as those identified by AIS, the daily number of AIS-equipped ships passing nearby, and the annual percentage of ships per ship type passing nearby. Multiple ship passings close in time are typically detected as a single detection; therefore, ship detection results represent a minimum number. -->
</section>
<section id="ship-radiated-noise-levels-and-monopole-source-levels" class="level3">
<h3 class="anchored" data-anchor-id="ship-radiated-noise-levels-and-monopole-source-levels">Ship Radiated Noise Levels and Monopole Source Levels</h3>
<!-- Radiated Noise Levels (RNL) were calculated based on ASA/ANSI (2009) and ISO (2019) specifications. Monopole Source Levels (MSL), correcting for the effect of Lloyd’s mirror, were estimated using the approach of Gassmann et al 2017. Both sound levels, RNL and MSL, were estimated for one-third-octave bands from 10 Hz to 4 kHz. Each vessel transit recording was divided into non-overlapping segments with a duration of 1 s. A 10,000-point (NFFT) Fast Fourier Transform (FFT) was applied to each 1-second segment to provide a frequency bin resolution of 1 Hz. The magnitude of the FFT squared was multiplied by 2/NFFT2 to correct for the processing gain of the FFT. Over the duration of the transit, the mean sound pressure level (SPL) was computed over each 5-s segment every 3 s to smooth the time-frequency distribution. The resulting SPLs were reported in decibels (dB) summed from 5 to 1000 Hz with a reference pressure of 1 μPa2, and at 1 Hz and third-octave band resolution with a reference pressure of 1 μPa2/Hz. To estimate RNL, a spherical spreading propagation loss model (NSS) was calculated with the following equation: -->
<!-- NSS = 20log10(R/r0) -->
<!-- where R is the distance from the dipole source to the receiver and r0 is the reference distance (1 m). The NSS used to compute RNL does not require a source depth (dS), therefore the dS is assumed to be the dipole source for all transits. The NSS was applied to the SPL to achieve RNL (3). -->
<!-- RNL = SPL + NSS -->
<!-- A propagation loss model that corrects for the Lloyd’s mirror effect (NPL) was applied to estimate MSL to account for reflected image interference at the sea surface and for compliance with ISO (2019, Equation 4). The NPL model ignores sound refraction in the water column and reflections with the seafloor and solely accounts for reflections from the sea surface (Gassmann et al. 2017; Audoly and Meyer 2017). The propagation loss of a sound source near the surface in deep water considering the Lloyd’s mirror effect is given by: -->
<!-- insert equation here -->
<!-- MSL = SPL + NPL -->
<!-- where r1 is the distance from the source to the receiver, r2 is the distance from the reflected image source to the receiver, and k is the wave number (k = 2πf/c) in rad/m. Source depth was taken to be equal to 50% of the actual vessel draft. Harmonic mean sound speeds were calculated from depth, temperature, and salinity data obtained from the Global Ocean Forecasting System (GOFS) 3.1: 41-layer HYCOM + NCODA Global 1/12o analysis. -->
<!-- A modification of the Lloyd’s mirror model was established in Gassmann et al. (2017) to remove mismatched interference lobes identified with ship noise measurements in compliance with ANSI/ASA (2009) and ISO (2016). The modification includes using the Lloyd’s mirror model from 5 Hz up to the lowest frequency at which the Lloyd’s mirror model and the spherical spreading model intersect. At the higher frequencies, the spherical spreading model was used (Gassmann et al. 2017). The intersection frequency was unique for each passage. -->
</section>
<section id="seismic-airguns" class="level3">
<h3 class="anchored" data-anchor-id="seismic-airguns">Seismic Airguns</h3>
<!-- Airguns were detected automatically using a matched filter detector on the low-frequency band data. The acoustic recording timeseries were filtered with a 10th order Butterworth bandpass filter between 25 and 200 Hz. Cross correlation was computed between 75 s of the envelope of the filtered timeseries and the envelope of a filtered example airgun explosion (0.7 s, Hann windowed) as the matched filter signal. The cross correlation was squared to ’sharpen’ peaks of airgun pulse detections. A floating threshold was calculated by taking the median cross-correlation value over the current 75 s of data to account for detecting airguns within varying noise conditions, such as ship passings. A cross-correlation threshold of 2*10^−6 above the median was set. When the correlation coefficient exceeded this threshold, the detection was sent to a phase 2 detection and classification step. Thresholds were determined based on a manual review of a subset of data. -->
<!-- Consecutive airgun pulse detections were required to have a minimum start time difference of 2 s. A 0.03 s running average energy across the detection was computed. The start and end times of the detection were marked when the energy rose by more than 0.5 dB above the median energy across the detection. The peak-to-peak (pp) and root-mean-square (rms) received levels (RLs) were computed over the potential pulse as well as before and after the explosion. The potential airgun pulse was classified as a false detection and removed if 1) the signal dB difference of pp and rms RLs between the during and AFTER detection periods was < 0.5 dB; 2) the dB difference of pp and rms RLs between the signal and the time BEFORE the signal was < 0.5 dB; and 3) the detection duration was shorter than 0.5 s. Further, detections with a peak-to-peak amplitude of < 120 dB were removed for this analysis. -->
<!-- An analysis methods section is required and should include the following information; -->
<!-- -   Data Prep and Archive -->
<!--     -   Data prep (decompressing, creating LTSAs, decimating, etc.) -->
<!--         -   [SAEL example](https://sael-swfsc.github.io/adrift-analysis-methods/content/DataArchive/DataPrep.html) -->
<!--     -   Data quality checks (QAQC scripts) -->
<!--         -   [SAEL example](https://sael-swfsc.github.io/adrift-analysis-methods/content/DataArchive/DataQualityCheck.html) -->
<!--     -   Data upload steps -->
<!--         -   If you have a internal storage include directions here on where data should be stored and in what format -->
<!--         -   You can also include a data managment structure with standardized naming and storage/folder structures -->
<!--         -   [SAEL example](https://sael-swfsc.github.io/adrift-analysis-methods/content/DataArchive/DataUpload.html) -->
<!-- -   Analysis methods for each species, group, or sound source -->
<!--     -   You can break this down by baleen and toothed whales, soundscapes, etc. -->
<!--     -   Each section should include detailed and reproducible methods that anybody can recreate -->
<!-- You can also link to a separate hardware repository if needed ([SAEL example](https://sael-swfsc.github.io/SAEL-lab-manual/content/Analysis-adrift.html)) -->
<!-- [Glider Lab Manual example](https://swfsc.github.io/glider-lab-manual/content/dataproc-gliders.html) -->


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("sefsc\.github\.io\/SEFSC-PAM-Lab-Manual\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../content/Software.html" class="pagination-link" aria-label="Software">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Software</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../content/Reporting.html" class="pagination-link" aria-label="Reporting">
        <span class="nav-page-text">Reporting</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© CC-1.0</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual/tree/main/edit/main/content/AnalysisMethods.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual/tree/main/blob/main/content/AnalysisMethods.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/SEFSC/SEFSC-PAM-Lab-Manual/tree/main/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>